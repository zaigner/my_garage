[project]
name = "my-garage"
version = "0.1.0"
description = "Automotive asset management and valuation platform"
authors = ["Development Team <dev@mygarage.com>"]
channels = ["conda-forge"]
platforms = ["linux-64", "win-64", "osx-64", "osx-arm64"]

[tasks]
# Django Tasks
manage = "python manage.py"
server = "python manage.py runserver"
migrate = "python manage.py migrate"
makemigrations = "python manage.py makemigrations"
shell = "python manage.py shell"
test = "pytest"

# Celery Tasks
worker = "celery -A config.celery_app worker -l info"
beat = "celery -A config.celery_app beat -l info"

# FastAPI Tasks
fastapi = "uvicorn fastapi_services.main:app --reload --port 8001"

[dependencies]
python = ">=3.12"
django = ">=5.2,<5.3"
djangorestframework = ">=3.14,<4.0"
django-cors-headers = ">=4.0,<5.0"
django-debug-toolbar = ">=4.2,<5.0"
fastapi = ">=0.104,<1.0"
uvicorn = ">=0.24,<1.0"
requests = ">=2.31,<3.0"
pydantic = ">=2.0,<3.0"
psycopg2 = ">=2.9,<3.0"
pillow = ">=10.0,<11.0"
celery = ">=5.3,<6.0"
redis-py = ">=5.0,<6.0"
pymongo = ">=4.0,<5.0"
django-celery-beat = ">=2.5,<3.0"

[feature.dev.dependencies]
pytest = ">=7.4,<8.0"
pytest-django = ">=4.5,<5.0"
pytest-cov = ">=4.1,<5.0"
factory_boy = ">=3.3,<4.0"
faker = ">=19.0,<20.0"
ipython = ">=8.0"

[environments]
default = ["dev"]
prod = []

# Ensure src is in PYTHONPATH
[activation]
scripts = ["export PYTHONPATH=$PYTHONPATH:$(pwd)/src"]
